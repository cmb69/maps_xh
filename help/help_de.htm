<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Maps_XH – Benutzerhandbuch</title>
  <style type="text/css">
    body {
        font-family: Georgia, serif;
        line-height: 1.5;
        margin-left: auto;
        margin-right: auto;
        padding-left: 0.5em;
        padding-right: 0.5em;
        background: #ffffe1;
        max-width: 32em;
    }
    p {
        text-align: justify;
    }
    pre {
        color: black;
        background: #ffe;
        overflow: auto;
        padding: 0.2em 0.5em;
        border: 1px solid silver;
    }
  </style>
</head>
<body>
<h1 id="maps_xh">Maps_XH</h1>
<p>Das Plugin ermöglicht die Anzeige von <a href="https://www.openstreetmap.org/">OpenStreetMap</a> Landkarten auf einer CMSimple_XH Website, ohne dass man etwas mit JavaScript basteln muss. Solche Landkarten sind nützlich für eine “So können sie uns finden” Seite, aber können auch für andere Zwecke genutzt werden. Das Plugin ist per Voreinstellung auf Datenschutz ausgelegt, d.h. keine Daten werden an fremde Server übermittelt, bevor nicht explizit zugestimmt wurde. Die Landkarten können eine beliebige Anzahl von Markierungen (optional mit Info-Text) enthalten, und grundlegender Import von GeoJSON Features ist möglich.</p>
<ul>
<li><a href="#voraussetzungen">Voraussetzungen</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#einstellungen">Einstellungen</a></li>
<li><a href="#verwendung">Verwendung</a>
<ul>
<li><a href="#definition-von-landkarten">Definition von Landkarten</a></li>
<li><a href="#import-von-geojson">Import von GeoJSON</a></li>
</ul></li>
<li><a href="#fehlerbehebung">Fehlerbehebung</a></li>
<li><a href="#lizenz">Lizenz</a></li>
<li><a href="#danksagung">Danksagung</a></li>
</ul>
<h2 id="voraussetzungen">Voraussetzungen</h2>
<p>Maps_XH ist ein Plugin für <a href="https://cmsimple-xh.org/de/">CMSimple_XH</a>. Es benötigt CMSimple_XH ≥ 1.7.0 und PHP ≥ 8.0.0. Maps_XH benötigt weiterhin <a href="https://github.com/cmb69/plib_xh">Plib_XH</a> ≥ 1.9; ist dieses noch nicht installiert (see <em>Einstellungen</em>→<em>Info</em>), laden Sie das <a href="https://github.com/cmb69/plib_xh/releases/latest">aktuelle Release</a> herunter, und installieren Sie es.</p>
<h2 id="download">Download</h2>
<p>Das <a href="https://github.com/cmb69/maps_xh/releases/latest">aktuelle Release</a> kann von Github herunter geladen werden.</p>
<h2 id="installation">Installation</h2>
<p>Die Installation erfolgt wie bei vielen anderen CMSimple_XH-Plugins auch.</p>
<ol type="1">
<li>Sichern Sie die Daten auf Ihrem Server.</li>
<li>Entpacken Sie die ZIP-Datei auf Ihrem Rechner.</li>
<li>Laden Sie das ganzen Ordner <code>maps/</code> auf Ihren Server in das <code>plugins/</code> Verzeichnis von CMSimple_XH hoch.</li>
<li>Machen Sie die Unterordner <code>config/</code>, <code>css/</code> und <code>languages/</code> beschreibbar.</li>
<li>Prüfen Sie unter <code>Plugins</code> → <code>Maps</code> im Administrationsbereich, ob alle Voraussetzungen erfüllt sind.</li>
</ol>
<h2 id="einstellungen">Einstellungen</h2>
<p>Die Plugin-Konfiguration erfolgt wie bei vielen anderen CMSimple_XH-Plugins auch im Administrationsbereich der Website. Gehen Sie zu <code>Plugins</code> → <code>Maps</code>.</p>
<p>Sie können die Voreinstellungen von Maps_XH unter <code>Konfiguration</code> ändern. Hinweise zu den Optionen werden beim Überfahren der Hilfe-Icons mit der Maus angezeigt.</p>
<p>Die Lokalisierung wird unter <code>Sprache</code> vorgenommen. Sie können die Sprachtexte in Ihre eigene Sprache übersetzen, falls keine entsprechende Sprachdatei zur Verfügung steht, oder diese Ihren Wünschen gemäß anpassen.</p>
<p>Das Aussehen von Maps_XH kann unter <code>Stylesheet</code> angepasst werden.</p>
<h2 id="verwendung">Verwendung</h2>
<p>Um eine Landkarte auf einer Seite anzuzeigen:</p>
<pre><code>{{{maps(&#39;name&#39;)}}}</code></pre>
<p>Um eine Landkarte im Template anzuzeigen:</p>
<pre><code>&lt;?=maps(&#39;name&#39;)?&gt;</code></pre>
<p>Wobei <code>name</code> der Name der Landkarte ist. Details sind unter <a href="#definition-von-landkarten">Definition von Landkarten</a> zu finden.</p>
<p>Bei Wechsel in den Ansichtsmodus, wird, wenn der Kachel-Datenschutz aktiviert ist (<code>Plugins</code> → <code>Maps</code> → <code>Konfiguration</code> → <code>Tile</code> → <code>Privacy</code>), was empfohlen wird, nicht gleich die Karte, sondern nur ein grauer Bereich mit den Markierungen (falls welche definiert wurden) angezeigt. Darunter befindet sich ein Formular wo der Datenübertragung zunächst zugestimmt werden muss, um die Landkarte vollständig anzuzeigen. Dies verhält sich ebenso für Besucher der Website.</p>
<p><strong>Bitte beachten Sie die Nutzungsbedingungen der Kachel-Anbieter.</strong> Das Plugin tut sein Möglichstest diese einzuhalten, aber schließlich liegt es an Ihnen dies sicherzustellen. Für den voreingestellten Kachel-Anbieter siehe <a href="https://operations.osmfoundation.org/policies/tiles/" class="uri">https://operations.osmfoundation.org/policies/tiles/</a>.</p>
<h3 id="definition-von-landkarten">Definition von Landkarten</h3>
<p>Im Plugin-Backend (<code>Plugins</code> → <code>Map</code> → <code>Administration</code>) können die Landkarten definiert werden. Die Benutzung sollte selbst erklärend sein, aber ein paar Hinweise scheinen angebracht:</p>
<ul>
<li><p>Jede Landkarte hat einen eindeutigen Namen, under dem sie im <code>content/</code> Ordner gespeichert wird. Der Name kann nur durch Umbennung der entsprechenden Datei per FTP geändert werden.</p></li>
<li><p>Die Koordinaten (Breiten-/Längengrad) bestimmen den Mittelpunkt der Landkarte, und werden als Dezimalzahlen (nicht Grad und Bogenminuten) angegeben. Eine Websuche kann nützlich sein, um die Koordinaten für den gewünschten Ort zu finden.</p></li>
<li><p>Zoom-Stufe 0 bedeutet die ganze Welt; Stufe 20 ist ungefähr ein Gebäude. <a href="https://wiki.openstreetmap.org/wiki/Zoom_levels">Definition der Zoom-Stufen</a>.</p></li>
<li><p>Das Seitenverhältnis bestimmt die Höhe der Landkarte, wenn sie angezeigt wird. Ihre Breite ist immer 100%.</p></li>
<li><p>Es kann eine beliebige Anzahl von Markierungen definiert werden, die an den angegebenen Koordinaten angezeigt werden. Diese Markierung können Info-Text enthalten, der angezeigt wird, wenn der Marker angeklickt wird, oder, wenn die entsprechende Checkbox angehakt ist, angezeigt wird, wenn die Karte angezeigt wird.</p></li>
</ul>
<h3 id="import-von-geojson">Import von GeoJSON</h3>
<p>Der Import von sogenannten <a href="https://geojson.org/">GeoJSON</a> Features wird unterstützt; nur Punkte (points) werden berücksichtigt, und diese werden als Markierungen importiert. Das Import-Formular hat ein Feld für das <code>GeoJSON</code> (kopieren und einfügen kann nützlich sein), und ein <code>Template</code> Feld, das verwendet kann, um die Markierungsinfo mit Daten des GeoJSON Features zu befüllen. Das Template erwartet HTML mit Platzhaltern, die durch die sogenannten Eigenschaften (properties) des GeoJSON Features ersetzt werden. Existiert die Eigenschaft nicht, dann findet keine Ersetzung statt. Ein Platzhalter ist der Name einer Eigenschaft, der in geschweifte Klammern eingeschlossen ist, z.B. <code>{name}</code>. Es ist zu beachten, dass gewählt werden kann, dass bestehende Markierung ersetzt werden, was nützlich ist wenn ein aktualisiertes GeoJSON erneut import wird.</p>
<h2 id="fehlerbehebung">Fehlerbehebung</h2>
<p>Melden Sie Programmfehler und stellen Sie Supportanfragen entweder auf <a href="https://github.com/cmb69/maps_xh/issues">Github</a> oder im <a href="https://cmsimpleforum.com/">CMSimple_XH Forum</a>.</p>
<h2 id="lizenz">Lizenz</h2>
<p>Maps_XH ist freie Software. Sie können es unter den Bedingungen der GNU General Public License, wie von der Free Software Foundation veröffentlicht, weitergeben und/oder modifizieren, entweder gemäß Version 3 der Lizenz oder (nach Ihrer Option) jeder späteren Version.</p>
<p>Die Veröffentlichung von Maps_XH erfolgt in der Hoffnung, dass es Ihnen von Nutzen sein wird, aber ohne irgendeine Garantie, sogar ohne die implizite Garantie der Marktreife oder der Verwendbarkeit für einen bestimmten Zweck. Details finden Sie in der GNU General Public License.</p>
<p>Sie sollten ein Exemplar der GNU General Public License zusammen mit Maps_XH erhalten haben. Falls nicht, siehe <a href="https://www.gnu.org/licenses/" class="uri">https://www.gnu.org/licenses/</a>.</p>
<p>Copyright © Christoph M. Becker</p>
<h2 id="danksagung">Danksagung</h2>
<p>Maps_XH wurde von <em>hufnala</em> angeregt.</p>
<p>Das Plugin wird angetrieben von <a href="https://www.openstreetmap.org/">OpenStreetMap</a> und <a href="https://leafletjs.com/">Leaflet</a>. Vielen Danke für die Bereitstellung dieser großartigen Tools und Dienste für die Gemeinschaft!</p>
<p>Das Plugin-Icon wurde von <a href="https://www.flaticon.com/free-icons/street-map">Freepik - Flaticon</a> gestaltet. Vielen Dank für die freie Verfügbarkeit dieses Icons.</p>
<p>Vielen Dank an die Community im <a href="https://www.cmsimpleforum.com/">CMSimple_XH-Forum</a> für Hinweise, Anregungen und das Testen.</p>
<p>Und zu guter letzt vielen Dank an <a href="https://www.harteg.dk/">Peter Harteg</a>, den „Vater“ von CMSimple, und allen Entwicklern von <a href="https://www.cmsimple-xh.org/de/">CMSimple_XH</a> ohne die es dieses phantastische CMS nicht gäbe.</p>
</body>
</html>
